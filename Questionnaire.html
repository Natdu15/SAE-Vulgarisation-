<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="images/logo-sd.png" href="images/logo-sd.png">
    <link rel="stylesheet" href="css/choix.css">
    <title>Apprendre à mieux vous connaître</title>
</head>
<body>

  <header>
    <h1>Test pour mieux vous connaître.</h1>
    <div class="categories">
      <div class="category selected" data-category="Matières Général">Matières Général</div>
      <div class="category" data-category="Mathématique Général">Mathématique Général</div>
      <div class="category" data-category="Programmation Général">Programmation Général</div>
      <div class="category" data-category="Anglais/Droit/Eco">Anglais/Droit/Eco</div>
      <div class="category" data-category="Vos Motivations Général">Vos Motivations Général</div>
    </div>
    <div id="roundIndicator">Round 1</div>
  </header>

  <div class="card-container">
    <div class="card" id="card1"></div>
    <div class="card" id="card2"></div>    
  </div>

  <script>
// Système de test de personnalité pour BUT Science des Données
document.addEventListener('DOMContentLoaded', () => {

  // Configuration des questions par thème avec vos dilemmes
  const questionsData = {
    "Matières Général": [
      {
        question: "Es-tu intéressé(e) par les probabilités (chance qu’un événement se produise) ?",
        choiceA: { text: "Plutôt Oui", points: { statistique: 3, analytique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { securite: 0, analytique: 2} }
      },
      {
        question: "Aimes-tu apprendre un nouveau langage de programmation (Python, R, SQL…) même si ça te demande du temps ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Est-ce que l’idée de manipuler des données brutes (nettoyage, transformation) t’attire ?",
        choiceA: { text: "Plutôt Oui", points: { systematique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { securite: 3, protection: 2 } }
      },
      {
        question: "Aimes-tu apprendre un nouveau langage de programmation (Python, R, SQL…) même si ça te demande du temps ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Aimes-tu créer des tableaux de bord ou des rapports automatisés dans Excel ou un outil similaire ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Es-tu capable de raconter ton travail à un grand nombre de personnes (dans un amphi de 100 personnes environ) ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Est-ce que tu aimes apprendre du vocabulaire technique anglais en lien avec la data ou la tech ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Est-ce que les questions éthiques autour des données (vie privée, consentement, biais) te préoccupent ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      }
    ],
    "Mathématique Général": [
      {
        question: "Aimes-tu analyser des chiffres pour trouver des tendances ou des modèles cachés ?",
        choiceA: { text: "Plutôt Oui", points: { web: 3, interface: 2 } },
        choiceB: { text: "Vraiment Pas", points: { mobile: 3, innovation: 2 } }
      },
      {
        question: "Te sens-tu à l’aise avec les calculs de moyenne, médiane, variance, etc. ?",
        choiceA: { text: "Plutôt Oui", points: { visualisation: 3, analytique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { ludique: 3, creatif: 2 } }
      },
      {
        question: "Es-tu intéressé(e) par les probabilités (chance qu’un événement se produise) ?",
        choiceA: { text: "Plutôt Oui", points: { donnees: 3, systematique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { visualisation: 3, communication: 2 } }
      },
      {
        question: "Aimes-tu résoudre des problèmes abstraits ou théorèmes mathématiques ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Es-tu prêt(e) à revoir ou approfondir des notions de mathématiques que tu trouves difficiles ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Les preuves mathématiques t’intéressent-elles (montrer que quelque chose est vrai) ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Aimes-tu travailler avec des simulations probabilistes (tirages aléatoires (lancé de dés), etc.) ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      },
      {
        question: "Est-ce que l’idée de modéliser un phénomène réel par une fonction ou une distribution te passionne ?",
        choiceA: { text: "Plutôt Oui", points: { logique: 3, technique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { statistique: 3, analytique: 1 } }
      }
    ],
    "Programmation Général": [
      {
        question: "Aimes-tu apprendre un nouveau langage de programmation (Python, R, SQL…) même si ça te demande du temps ?",
        choiceA: { text: "Plutôt Oui", points: { independant: 3, concentre: 2 } },
        choiceB: { text: "Vraiment Pas", points: { collaboratif: 3, social: 2 } }
      },
      {
        question: "Es-tu curieux(se) de comprendre comment fonctionne un algorithme « sous le capot » ?",
        choiceA: { text: "Plutôt Oui", points: { leadership: 3, decisif: 2 } },
        choiceB: { text: "Vraiment Pas", points: { supportif: 3, cooperatif: 2 } }
      },
      {
        question: "Penses-tu que tu bénéficieras de savoir automatiser des tâches répétitives via du code ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Est-ce que l’idée de manipuler des données brutes (nettoyage, transformation) t’attire ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Es-tu prêt(e) à faire face à des erreurs de programmation, des bugs, des pannes, et persévérer ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Aimes-tu travailler sur des projets qui mêlent code et logique mathématique ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Es-tu capable de comprendre des documentations techniques ou des tutoriels de code ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Te plaît‐il de visualiser des données (graphiques, diagrammes, dashboards) générés par code ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Est-ce que la performance, efficacité, optimisation de code ou algorithmes t’intéressent ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      }
    ],
    "Anglais/Droit/Eco/Communication": [
      {
        question: "Es-tu intéressé(e) par comprendre les enjeux économiques liés aux données (coût, rentabilité, impact) ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Est-ce que les questions éthiques autour des données (vie privée, consentement, biais) te préoccupent ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "As-tu envie de savoir comment la loi encadre la collecte ou l’usage des données dans ton pays (et internationalement) ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Penses-tu que les données peuvent influencer des décisions politiques ou stratégiques dans les entreprises ou la société ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Lis-tu l’anglais (articles, documentation, cours, loisirs) sans trop de difficultés ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Es-tu à l’aise de te présenter en anglais si nécessaire ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Est-ce que l’apprentissage continu via des ressources internationales (articles, blogs en anglais) t’intéresse ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Es-tu capable de raconter ton travail à un grand nombre de personnes (dans un amphi de 100 personnes environ) ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Te sens-tu à l’aise de faire des visuels clairs (graphiques, infographies) pour expliquer quelque chose ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
      {
        question: "Penses-tu que la communication (orale ou écrite) est aussi importante que l’analyse technique ?",
        choiceA: { text: "Plutôt Oui", points: { technique: 3, methodique: 2 } },
        choiceB: { text: "Vraiment Pas", points: { investigation: 3, curieux: 2 } }
      },
    ],
    "Vos Motivations Général": [
      {
        question: "Le soir après les cours, tu préfères :",
        choiceA: { text: "Participer aux soirées 🎉", points: { social: 3, festif: 2 } },
        choiceB: { text: "Rester chez soi 📚", points: { calme: 3, studieux: 2 } }
      },
      {
        question: "Pour te détendre, tu choisis :",
        choiceA: { text: "Faire du sport 🏋️", points: { actif: 3, sante: 2 } },
        choiceB: { text: "Jouer aux jeux vidéo 🎮", points: { numerique: 3, detente: 2 } }
      },
      {
        question: "Les week-ends, tu préfères :",
        choiceA: { text: "Travailler le week-end 🌍", points: { travailleur: 3, ambitieux: 2 } },
        choiceB: { text: "Se reposer tranquillement 🛋️", points: { equilibre: 3, ressourcement: 2 } }
      },
      {
        question: "Pour t'épanouir, tu préfères :",
        choiceA: { text: "S'investir dans une asso 🤲", points: { engagement: 3, altruiste: 2 } },
        choiceB: { text: "Faire des projets personnels 📅", points: { personnel: 3, autonome: 2 } }
      }
    ]
  };

  // Profils de personnalité par thème
  const personalityProfiles = {
    "Matières Général": {
      "L'Analyste Statistique": {
        description: "Tu excelles dans l'analyse de données et les probabilités. Tu aimes transformer les chiffres en insights.",
        traits: ["statistique", "analytique"],
        career: "Data Analyst, Biostatisticien, Actuaire"
      },
      "L'Expert Sécurité": {
        description: "Tu es passionné par la protection des systèmes et la cryptographie. La cybersécurité te fascine.",
        traits: ["securite", "protection"],
        career: "Expert cybersécurité, Consultant sécurité, Cryptographe"
      },
      "Le Développeur Logique": {
        description: "Tu excelles dans la résolution algorithmique et la programmation structurée.",
        traits: ["logique", "technique"],
        career: "Ingénieur logiciel, Développeur backend, Architecte système"
      },
      "L'Organisateur de Données": {
        description: "Tu maîtrises parfaitement la gestion et l'organisation des bases de données.",
        traits: ["systematique", "donnees"],
        career: "Administrateur base de données, Data Engineer, Architecte données"
      }
    },
    "Mathématique Général": {
      "Le Développeur Web/Mobile": {
        description: "Tu excelles dans la création d'interfaces et d'applications utilisateur.",
        traits: ["web", "mobile", "interface"],
        career: "Développeur Full-Stack, Développeur mobile, UX/UI Designer"
      },
      "Le Visualisateur de Données": {
        description: "Tu sais parfaitement présenter et communiquer les données de manière claire.",
        traits: ["visualisation", "communication"],
        career: "Data Visualizer, Business Intelligence, Consultant BI"
      },
      "Le Créateur Ludique": {
        description: "Tu combines créativité et technique pour créer des expériences engageantes.",
        traits: ["ludique", "creatif", "innovation"],
        career: "Game Developer, Creative Developer, Designer interactif"
      },
      "L'Investigateur Technique": {
        description: "Tu excelles dans l'analyse technique et la résolution de problèmes complexes.",
        traits: ["investigation", "technique", "methodique"],
        career: "DevOps Engineer, Expert technique, Consultant IT"
      }
    },
    "Programmation Général": {
      "L'Indépendant Organisé": {
        description: "Tu travailles de manière autonome avec une approche structurée et planifiée.",
        traits: ["independant", "planificateur", "structure"],
        career: "Consultant indépendant, Chef de projet, Entrepreneur"
      },
      "Le Leader Collaboratif": {
        description: "Tu sais diriger une équipe tout en valorisant la collaboration.",
        traits: ["leadership", "collaboratif", "decisif"],
        career: "Manager d'équipe, Directeur technique, Product Owner"
      },
      "L'Adaptable Créatif": {
        description: "Tu excelles dans l'improvisation et l'innovation face aux défis.",
        traits: ["adaptable", "flexible", "creatif"],
        career: "Consultant en transformation, Innovation Manager, Startup"
      },
      "Le Collaborateur Structuré": {
        description: "Tu préfères travailler en équipe dans un environnement organisé.",
        traits: ["supportif", "cooperatif", "discipline"],
        career: "Développeur en équipe, Analyste, Consultant junior"
      }
    },
    "Anglais/Droit/Eco": {
      "Le Pragmatique Stable": {
        description: "Tu vises une insertion professionnelle rapide dans un environnement sécurisé.",
        traits: ["pragmatique", "stabilite", "local"],
        career: "Employé en grande entreprise, Fonctionnaire, Consultant local"
      },
      "L'Entrepreneur Innovant": {
        description: "Tu veux créer ton propre projet et repousser les limites.",
        traits: ["entrepreneur", "innovant", "international"],
        career: "Fondateur de startup, CEO, Consultant international"
      },
      "L'Expert Académique": {
        description: "Tu veux approfondir tes connaissances et devenir un spécialiste reconnu.",
        traits: ["academique", "specialisation", "formation"],
        career: "Chercheur, Enseignant-chercheur, Expert technique senior"
      },
      "L'Expérimentateur Pratique": {
        description: "Tu préfères apprendre par l'expérience directe plutôt que par la théorie.",
        traits: ["experience", "pratique", "aventurier"],
        career: "Consultant freelance, Technicien expert, Entrepreneur"
      }
    },
    "Vos Motivations Général": {
      "Le Social Actif": {
        description: "Tu combines vie sociale épanouie et activité physique. Tu es énergique et engagé.",
        traits: ["social", "actif", "engagement"],
        career: "Manager d'équipe, Consultant, Responsable RH"
      },
      "L'Équilibré Numérique": {
        description: "Tu sais allier détente numérique et équilibre personnel.",
        traits: ["numerique", "equilibre", "personnel"],
        career: "Développeur, Game Designer, Consultant IT"
      },
      "L'Ambitieux Travailleur": {
        description: "Tu es très motivé et n'hésites pas à t'investir pleinement dans tes projets.",
        traits: ["travailleur", "ambitieux", "festif"],
        career: "Entrepreneur, Directeur, Consultant senior"
      },
      "Le Studieux Autonome": {
        description: "Tu privilégies le calme et l'autonomie pour développer tes projets personnels.",
        traits: ["calme", "studieux", "autonome"],
        career: "Chercheur, Développeur indépendant, Analyste"
      }
    }
  };

  // Variables globales
  let selectedCategory = "Matières Général";
  let currentQuestionIndex = 0;
  let scores = {};
  let currentQuestions = [];

  // Éléments DOM
  const card1 = document.getElementById('card1');
  const card2 = document.getElementById('card2');
  const roundIndicator = document.getElementById('roundIndicator');
  const categoryElements = document.querySelectorAll('.category');

  // Initialiser les scores
  function initializeScores() {
    scores = {
      // Matières Général
      statistique: 0, analytique: 0, securite: 0, logique: 0, technique: 0, 
      systematique: 0, protection: 0, donnees: 0,
      // Mathématique Général
      web: 0, interface: 0, mobile: 0, innovation: 0, visualisation: 0, 
      communication: 0, ludique: 0, creatif: 0, investigation: 0, methodique: 0,
      // Programmation Général
      independant: 0, concentre: 0, collaboratif: 0, social: 0, leadership: 0,
      decisif: 0, supportif: 0, cooperatif: 0, adaptable: 0, flexible: 0,
      planificateur: 0, organise: 0, structure: 0, discipline: 0, liberte: 0,
      // Anglais/Droit/Eco
      pragmatique: 0, actif: 0, academique: 0, specialisation: 0, stabilite: 0,
      entrepreneur: 0, innovant: 0, formation: 0, expertise: 0, experience: 0,
      pratique: 0, international: 0, aventurier: 0, local: 0, ancrage: 0,
      // Vos Motivations Général
      festif: 0, calme: 0, studieux: 0, sante: 0, numerique: 0, detente: 0,
      travailleur: 0, ambitieux: 0, equilibre: 0, ressourcement: 0, engagement: 0,
      altruiste: 0, personnel: 0, autonome: 0
    };
  }

  // Calculer le profil dominant pour un thème
  function calculateDominantProfile(category) {
    const profiles = personalityProfiles[category];
    let maxScore = 0;
    let dominantProfile = null;

    for (const [profileName, profileData] of Object.entries(profiles)) {
      let profileScore = 0;
      profileData.traits.forEach(trait => {
        profileScore += scores[trait] || 0;
      });
      
      if (profileScore > maxScore) {
        maxScore = profileScore;
        dominantProfile = { name: profileName, ...profileData, score: profileScore };
      }
    }

    return dominantProfile;
  }

  // Mettre à jour l'indicateur de progression
  function updateProgressIndicator() {
    const totalQuestions = currentQuestions.length;
    const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
    
    roundIndicator.innerHTML = `
      <div style="margin-bottom: 0.5rem;">
        Question ${currentQuestionIndex + 1} sur ${totalQuestions}
      </div>
      <div style="background: rgba(255,255,255,0.3); border-radius: 10px; height: 8px; overflow: hidden;">
        <div style="background: #4CAF50; height: 100%; width: ${progress}%; transition: width 0.3s ease; border-radius: 10px;"></div>
      </div>
    `;
  }

  // Afficher une question
  function displayQuestion() {
    if (currentQuestionIndex < currentQuestions.length) {
      const question = currentQuestions[currentQuestionIndex];
      
      // Mise à jour de l'indicateur
      updateProgressIndicator();
      
      // Affichage de la question
      card1.innerHTML = `
        <div style="padding: 2rem; text-align: center; min-height: 300px; display: flex; flex-direction: column; justify-content: center;">
          <h3 style="font-size: 1.3rem; margin-bottom: 2rem; color: #2c3e50; line-height: 1.4;">
            ${question.question}
          </h3>
          <div style="background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); color: white; padding: 1.5rem; border-radius: 15px; cursor: pointer; transition: all 0.3s ease;">
            <h4 style="font-size: 1.1rem; margin-bottom: 0.5rem;">Option A</h4>
            <p style="font-size: 1.1rem; line-height: 1.4;">${question.choiceA.text}</p>
          </div>
        </div>
      `;

      card2.innerHTML = `
        <div style="padding: 2rem; text-align: center; min-height: 300px; display: flex; flex-direction: column; justify-content: center;">
          <h3 style="font-size: 1.3rem; margin-bottom: 2rem; color: #2c3e50; line-height: 1.4;">
            ${question.question}
          </h3>
          <div style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); color: white; padding: 1.5rem; border-radius: 15px; cursor: pointer; transition: all 0.3s ease;">
            <h4 style="font-size: 1.1rem; margin-bottom: 0.5rem;">Option B</h4>
            <p style="font-size: 1.1rem; line-height: 1.4;">${question.choiceB.text}</p>
          </div>
        </div>
      `;
    } else {
      showResults();
    }
  }

  // Traiter la réponse
  function handleAnswer(choice) {
    const question = currentQuestions[currentQuestionIndex];
    const selectedChoice = choice === 'A' ? question.choiceA : question.choiceB;
    
    // Ajouter les points au score
    Object.entries(selectedChoice.points).forEach(([trait, points]) => {
      scores[trait] += points;
    });

    currentQuestionIndex++;
    
    // Animation de transition
    document.querySelector('.card-container').style.opacity = '0.5';
    setTimeout(() => {
      displayQuestion();
      document.querySelector('.card-container').style.opacity = '1';
    }, 200);
  }

  // Afficher les résultats
  function showResults() {
    const profile = calculateDominantProfile(selectedCategory);
    
    if (profile) {
      document.body.classList.add('victory-background');
      document.body.innerHTML = `
        <button class="btn-finish">← Retour aux catégories</button>
        <div class="winner">
          <h1>🎯 Votre Profil : ${selectedCategory}</h1>
          <h2>${profile.name}</h2>
          <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 15px; margin: 2rem 0; backdrop-filter: blur(10px);">
            <p style="font-size: 1.2rem; line-height: 1.6; color: white; margin-bottom: 1.5rem;">
              ${profile.description}
            </p>
            <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 10px; margin-top: 1rem;">
              <h4 style="color: #f39c12; margin-bottom: 0.5rem;">💼 Débouchés recommandés :</h4>
              <p style="color: white; font-weight: 600;">${profile.career}</p>
            </div>
          </div>
          <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <button id="btn-other-category" class="gradient-button">🔄 Tester une autre catégorie</button>
            <button id="btn-stats" class="gradient-button">📊 Voir mes statistiques</button>
          </div>
        </div>
      `;

      // Événements pour les boutons de résultat
      document.querySelector('.btn-finish').addEventListener('click', () => {
        location.reload();
      });

      document.getElementById('btn-other-category').addEventListener('click', () => {
        location.reload();
      });

      document.getElementById('btn-stats').addEventListener('click', () => {
        showDetailedStats();
      });
    }
  }

  // Afficher les statistiques détaillées
  function showDetailedStats() {
    let statsHTML = `
      <button class="btn-finish">← Retour</button>
      <div class="winner">
        <h1>📊 Vos Statistiques Détaillées</h1>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 2rem 0;">
    `;

    // Grouper les scores par catégories
    const statCategories = {
      "Orientation Académique": ["statistique", "analytique", "academique", "formation"],
      "Compétences Techniques": ["technique", "logique", "systematique", "methodique"],
      "Créativité & Innovation": ["creatif", "innovation", "ludique", "entrepreneur"],
      "Leadership & Social": ["leadership", "collaboratif", "social", "engagement"],
      "Autonomie & Organisation": ["independant", "planificateur", "organise", "discipline"]
    };

    Object.entries(statCategories).forEach(([categoryName, traits]) => {
      statsHTML += `
        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 15px; backdrop-filter: blur(10px);">
          <h3 style="color: #f39c12; margin-bottom: 1rem;">${categoryName}</h3>
      `;
      
      traits.forEach(trait => {
        const score = scores[trait] || 0;
        const percentage = Math.min((score / 9) * 100, 100); // Normalisation sur 9 points max
        
        if (score > 0) {
          statsHTML += `
            <div style="margin-bottom: 0.8rem;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 0.3rem;">
                <span style="color: white; font-size: 0.9rem; text-transform: capitalize;">${trait}</span>
                <span style="color: white; font-weight: 600;">${score} pts</span>
              </div>
              <div style="background: rgba(255,255,255,0.3); border-radius: 5px; height: 6px; overflow: hidden;">
                <div style="background: linear-gradient(90deg, #4CAF50, #45a049); height: 100%; width: ${percentage}%; border-radius: 5px; transition: width 0.5s ease;"></div>
              </div>
            </div>
          `;
        }
      });
      
      statsHTML += `</div>`;
    });

    statsHTML += `
        </div>
        <button id="btn-new-test" class="gradient-button">🔄 Refaire le test</button>
      </div>
    `;

    document.body.innerHTML = statsHTML;

    // Événements pour les boutons
    document.querySelector('.btn-finish').addEventListener('click', () => {
      location.reload();
    });

    document.getElementById('btn-new-test').addEventListener('click', () => {
      location.reload();
    });
  }

  // Initialiser le quiz pour une catégorie
  function initializeQuiz() {
    const category = selectedCategory;
    currentQuestions = questionsData[category] || [];
    currentQuestionIndex = 0;
    
    if (currentQuestions.length > 0) {
      displayQuestion();
    } else {
      document.querySelector('.card-container').innerHTML = `
        <div class="winner">
          <h2>Aucune question disponible pour cette catégorie</h2>
        </div>
      `;
    }
  }

  // Mapper les data-category aux vraies catégories
  const categoryMapping = {
    "Matières Général": "Matières Général",
    "Mathématique Général": "Mathématique Général", 
    "Programmation Général": "Programmation Général",
    "Anglais/Droit/Eco": "Anglais/Droit/Eco",
    "Vos Motivations Général": "Vos Motivations Général"
  };

  // Gestion des événements de catégorie
  categoryElements.forEach(elem => {
    elem.addEventListener('click', () => {
      categoryElements.forEach(e => e.classList.remove('selected'));
      elem.classList.add('selected');
      const dataCategory = elem.getAttribute('data-category');
      selectedCategory = categoryMapping[dataCategory] || dataCategory;
      initializeScores();
      initializeQuiz();
    });
  });

  // Gestion des clics sur les cartes
  card1.addEventListener('click', () => handleAnswer('A'));
  card2.addEventListener('click', () => handleAnswer('B'));

  // Initialisation
  initializeScores();
  initializeQuiz();
});
    </script> 
  </body>
  </html>
